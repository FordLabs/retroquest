<!--
  ~  Copyright (c) 2018 Ford Motor Company
  ~  All rights reserved.
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->

<div
  class="dialog"
  [ngClass]="{
    'dark-theme': darkThemeIsEnabled
  }"
  (click)="$event.stopPropagation()"
>

  <div class="body">

    <div class="close-button"
         [ngClass]="{
          'dark-theme': darkThemeIsEnabled
        }"
         (click)="submitForm()"
    ><i class="fas fa-times"></i></div>

    <div class="section comments-section" *ngIf="currentQuestion === 1">
      <div
        class="label"
        [ngClass]="{
          'dark-theme': darkThemeIsEnabled
        }"
      >How would you <b>feel</b> if you could no longer use RetroQuest?
      </div>

      <div class="answer-container">
        <div class="question-container" (click)="questionOneEquals(1)">
          <div class="question-square"
               [ngClass]="{
                'dark-theme': darkThemeIsEnabled
                }"
          >
            A
          </div>
          <div>Very disappointed</div>
        </div>
        <div class="question-container" (click)="questionOneEquals(2)">
          <div class="question-square"
               [ngClass]="{
                'dark-theme': darkThemeIsEnabled
                }"
          >
            B
          </div>
          <div>Somewhat disappointed</div>
        </div>
        <div class="question-container" (click)="questionOneEquals(3)">
          <div class="question-square"
               [ngClass]="{
                'dark-theme': darkThemeIsEnabled
                }"
          >
            C
          </div>
          <div>Not disappointed</div>
        </div>
      </div>

    </div>

    <div class="section comments-section" *ngIf="currentQuestion === 2">
      <div
        class="label"
        [ngClass]="{
          'dark-theme': darkThemeIsEnabled
        }"
      >What is the <b>main benefit</b> you receive from RetroQuest?
      </div>

      <div class="answer-container">
        <div class="question-container with-text-area">
          <textarea [(ngModel)]="phase4AnswerForm.q_1" placeholder="Your answer" maxlength="750"
                    [ngClass]="{
                      'dark-theme': darkThemeIsEnabled
                    }"
          ></textarea>
          <rq-floating-character-countdown
            [characterCount]="phase4AnswerForm.q_1.length"
            [maxCharacterCount]="750"
            [charsAreRunningOutThreshold]="50"
            [theme]="theme"
            [alwaysVisible]="true"
          ></rq-floating-character-countdown>
        </div>
      </div>

      <div class="progress-container">
        <div class="current-progress">
          <div class="progress-bar-label">{{currentQuestion - 1}}/4 completed</div>
          <div class="progress-bar">
            <progress
              [value]="currentQuestion - 1"
              max="4"
              [ngClass]="{
                      'dark-theme': darkThemeIsEnabled
                    }"
            ></progress>
          </div>
        </div>

        <rq-button
          [disabled]="phase4AnswerForm.q_1.length === 0"
          type="primary"
          text="Next"
          (click)="advanceToQuestion(3)"
          [theme]="theme"
        >
        </rq-button>
      </div>

    </div>

    <div class="section comments-section" *ngIf="currentQuestion === 3">
      <div
        class="label"
        [ngClass]="{
          'dark-theme': darkThemeIsEnabled
        }"
      >What <b>type of people</b> do you think would most benefit from RetroQuest?
      </div>

      <div class="answer-container">
        <div class="question-container with-text-area">
          <textarea [(ngModel)]="phase4AnswerForm.q_2" placeholder="Your answer" maxlength="750"
                    [ngClass]="{
                      'dark-theme': darkThemeIsEnabled
                    }"
          ></textarea>
          <rq-floating-character-countdown
            [characterCount]="phase4AnswerForm.q_2.length"
            [maxCharacterCount]="750"
            [charsAreRunningOutThreshold]="50"
            [theme]="theme"
            [alwaysVisible]="true"
          ></rq-floating-character-countdown>
        </div>
      </div>

      <div class="progress-container">
        <div class="current-progress">
          <div class="progress-bar-label">{{currentQuestion - 1}}/4 completed</div>
          <div class="progress-bar">
            <progress
              [value]="currentQuestion - 1"
              max="4"
              [ngClass]="{
                      'dark-theme': darkThemeIsEnabled
                    }"
            ></progress>
          </div>
        </div>

        <rq-button
          [disabled]=" phase4AnswerForm.q_2.length=== 0
            "
            type="primary"
            text="Next"
            (click)="advanceToQuestion(4)"
            [theme]="theme"
            >
            </rq-button>
          </div>

        </div>

        <div class="section comments-section" *ngIf="currentQuestion === 4">
          <div
            class="label"
            [ngClass]="{
          'dark-theme': darkThemeIsEnabled
        }"
          >How can we <b>improve</b> RetroQuest for you?
          </div>

          <div class="answer-container">
            <div class="question-container with-text-area">
          <textarea [(ngModel)]="phase4AnswerForm.q_3" placeholder="Your answer" maxlength="750"
                    [ngClass]="{
                      'dark-theme': darkThemeIsEnabled
                    }"
          ></textarea>
              <rq-floating-character-countdown
                [characterCount]="phase4AnswerForm.q_3.length"
                [maxCharacterCount]="750"
                [charsAreRunningOutThreshold]="50"
                [theme]="theme"
                [alwaysVisible]="true"
              ></rq-floating-character-countdown>
            </div>
          </div>

          <div class="progress-container">
            <div class="current-progress">
              <div class="progress-bar-label">{{currentQuestion - 1}}/4 completed</div>
              <div class="progress-bar">
                <progress
                  [value]="currentQuestion - 1"
                  max="4"
                  [ngClass]="{
                      'dark-theme': darkThemeIsEnabled
                    }"
                ></progress>
              </div>
            </div>

            <rq-button
              [disabled]="phase4AnswerForm.q_3.length === 0"
              type="primary"
              text="Submit"
              (click)="submitForm()"
              [theme]="theme"
            >
            </rq-button>
          </div>

        </div>

      </div>

      <div class="footer"
           [ngClass]="{
          'dark-theme': darkThemeIsEnabled
        }"
      >
        Powered By
        <div class="branding">Phase4</div>
      </div>
    </div>
