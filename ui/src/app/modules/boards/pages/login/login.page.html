<!--
  ~  Copyright (c) 2020 Ford Motor Company
  ~  All rights reserved.
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->

<div class="login-container">
    <re-captcha
        #captchaRef="reCaptcha"
        size="invisible"
        siteKey="6LeZOmMUAAAAAOq4uXmluNuIio7XGx7U-ncmOzGT"
        (resolved)="$event && login($event)"
    ></re-captcha>

    <div id="app-content">
        <div class="logo-container">
            <img
                src="/assets/icons/icon-72x72.png"
                title="RetroQuest Icon"
                id="logo-pic"
                alt="Logo"
                class="logo-image"
            />

            <div class="logo-text-container">
                <label class="logo-text">RetroQuest</label>
                <label class="logo-sub-text"
                    >A
                    <span class="fordlabs-label">FordLabs</span> Product</label
                >
            </div>
        </div>
        <div class="rq-team-controls">
            <form id="loginForm" class="rq-form">
                <div class="rq-form-header">
                    <div class="header-text">Sign in to your Board!</div>
                    <a id="createBoard" routerLink="/create"
                        >or create a new board</a
                    >
                </div>

                <form
                    class="rq-form-body"
                    (keydown.enter)="requestCaptchaStateAndLogIn()"
                >
                    <div class="rq-input-group">
                        <label for="teamNameInput">Board name</label>
                        <input
                            id="teamNameInput"
                            class="rq-input input-field"
                            name="teamName"
                            [(ngModel)]="teamName"
                            rqFocusOnLoad
                        />
                    </div>
                    <div class="rq-input-group">
                        <label for="teamPasswordInput">Password</label>
                        <input
                            id="teamPasswordInput"
                            class="rq-input"
                            name="password"
                            type="password"
                            [(ngModel)]="password"
                        />
                    </div>
                    <span id="errorMessage" class="rq-error-message"
                        >{{errorMessage}}</span
                    >

                    <rq-button
                        id="signInButton"
                        class="rq-button"
                        (click)="requestCaptchaStateAndLogIn()"
                        type="primary"
                        text="Sign In"
                    >
                    </rq-button>

                    <div class="recaptcha-message">
                        This site is protected by reCAPTCHA and the Google
                        <a href="https://policies.google.com/privacy"
                            >Privacy Policy</a
                        >
                        and
                        <a href="https://policies.google.com/terms"
                            >Terms of Service</a
                        >
                        apply.
                    </div>
                </form>

                <rq-brand-footer></rq-brand-footer>
            </form>
        </div>
    </div>

    <div class="contributors">
        <rq-contributors></rq-contributors>
    </div>
</div>
