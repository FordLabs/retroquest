<!--
  ~ Copyright (c) 2021 Ford Motor Company
  ~ All rights reserved.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<rq-login-form (captchaResolved)="create($event)">
    <div id="app-content">
        <rq-page-logo></rq-page-logo>

        <div class="rq-team-controls">
            <form id="createForm" class="rq-form">
                <div class="rq-form-header">
                    <div class="header-text">Create a new Team!</div>
                    <a id="loginBoard" routerLink="/login">or sign in to your existing team</a>
                </div>

                <form class="rq-form-body" (keydown.enter)="requestCaptchaStateAndCreateTeam()">
                    <div class="rq-input-group">
                        <label for="teamNameInput">Team name</label>
                        <input
                            id="teamNameInput"
                            data-testid="teamNameInput"
                            class="rq-input"
                            name="teamName"
                            [(ngModel)]="teamName"
                            rqFocusOnLoad
                        />
                        <span class="rq-validation-message"> Names must not contain special characters. </span>
                    </div>
                    <div class="rq-input-group">
                        <label for="teamPasswordInput">Password</label>
                        <input
                            id="teamPasswordInput"
                            data-testid="passwordInput"
                            class="rq-input"
                            name="password"
                            type="password"
                            [(ngModel)]="password"
                        />

                        <span class="rq-validation-message"
                            >8 or more characters with a mix of numbers and letters</span
                        >
                    </div>
                    <div class="rq-input-group">
                        <label for="teamPasswordConfirmInput">Confirm Password</label>
                        <input
                            id="teamPasswordConfirmInput"
                            data-testid="confirmPasswordInput"
                            class="rq-input"
                            name="confirmPassword"
                            type="password"
                            [(ngModel)]="confirmPassword"
                        />
                    </div>
                    <span id="errorMessage" data-testid="formErrorMessage" class="rq-error-message">
                        {{errorMessage}}
                    </span>
                    <rq-button
                        id="createRetroButton"
                        data-testid="formSubmitButton"
                        type="primary"
                        text="create team"
                        (click)="requestCaptchaStateAndCreateTeam()"
                    >
                    </rq-button>

                    <div class="recaptcha-message">
                        This site is protected by reCAPTCHA and the Google
                        <a href="https://policies.google.com/privacy">Privacy Policy</a>
                        and
                        <a href="https://policies.google.com/terms">Terms of Service</a>
                        apply.
                    </div>
                </form>

                <rq-brand-footer></rq-brand-footer>
            </form>
        </div>
    </div>
</rq-login-form>
